<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="BoardMapper">
	<resultMap type="cProject.movie.vo.BoardVO" id="boardMap">
		<id property="bno" column="bno"/>
		<result property="author" column="author"/>
		<result property="categoryNo" column="category_no"/>
		<result property="notice" column="notice"/>
		<result property="hit" column="hit"/>
		<result property="title" column="title"/>
		<result property="body" column="body"/>
		<result property="deleteFlag" column="delete_flag"/>
		<result property="policeFlag" column="police_flag"/>
		<result property="createDate" column="create_date"/>
		<result property="updateDate" column="update_date"/>
		<result property="deleteDate" column="delete_date"/>
		<collection property="files" ofType="cProject.movie.vo.FileVO">
			<id property="fileNo" column="file_no"/>
			<result property="bno" column="bno"/>
			<result property="fileName" column="file_name"/>
			<result property="filePath" column="file_path"/>
			<result property="fileSize" column="file_size"/>
		</collection>
	</resultMap>
	<select id="freelist" resultMap="boardMap">
		select * from board where category_no=0 and notice =1;
	</select>
	<select id="reviewlist" resultMap="boardMap">
		select * from board where category_no=1 and notice =1;
	</select>
	<select id="minfolist" resultMap="boardMap">
		select * from board where category_no=2 and notice =1;
	</select>
	<select id="goodslist" resultMap="boardMap">
		select * from board where category_no=3 and notice =1;
	</select>
	<insert id="insert" parameterType="cProject.movie.vo.BoardVO" useGeneratedKeys="true" keyProperty="sno">
		insert into board(author, category_no, notice, hit, title, body)
		values(#{author}, #{category}, #{notice}, 0, #{title}, #{body});
	</insert>
</mapper>